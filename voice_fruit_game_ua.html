<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ì—Ä–∞: –ù–∞–∑–≤–∏ —Ñ—Ä—É–∫—Ç –∞–±–æ –æ–≤–æ—á</title>
  <style>
  <body>
  <!-- –°—Ç–∞—Ä—Ç–æ–≤–∞ –∑–∞—Å—Ç–∞–≤–∫–∞ -->
  <div id="startScreen" style="position:fixed;z-index:1000;top:0;left:0;width:100vw;height:100vh;background:linear-gradient(120deg,#fffbe7,#e0ffe0 90%);display:flex;flex-direction:column;align-items:center;justify-content:center;">
    <h2 style="font-size:2.5rem;color:#4caf50;margin-bottom:32px;">–ù–∞—Ç–∏—Å–Ω–∏, —â–æ–± –ø–æ—á–∞—Ç–∏ –≥—Ä—É –∑ –º—É–∑–∏–∫–æ—é!</h2>
    <button id="startButton" style="font-size:2rem;padding:20px 50px;background:#ffb700;color:#fff;border:none;border-radius:25px;box-shadow:0 0 24px #d2ac36;cursor:pointer;">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç</button>
    <div style="margin-top:20px;font-size:1.1rem;color:#666;">–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –Ω–∞—Ç–∏—Å–∫–∞–π ‚Äú–ì–æ–≤–æ—Ä–∏—Ç–∏‚Äù —ñ –≥—Ä–∞–π —è–∫ –∑–∞–≤–∂–¥–∏.</div>
  </div>

  <h1>–ù–∞–∑–≤–∏ —Ñ—Ä—É–∫—Ç –∞–±–æ –æ–≤–æ—á –≥–æ–ª–æ—Å–æ–º</h1>
  <p>–©–æ —Ü–µ –∑–∞ —Ñ—Ä—É–∫—Ç –∞–±–æ –æ–≤–æ—á?</p>
  <img id="fruitImage" src="" alt="–§—Ä—É–∫—Ç –∞–±–æ –æ–≤–æ—á">
  <br>
  <button onclick="startRecognition()">üé§ –ì–æ–≤–æ—Ä–∏—Ç–∏</button>
  <div id="result"></div>
  <div id="basket">–£ –∫–æ—à–∏–∫—É: 0</div>
  <!-- SVG-–∫–æ—à–∏–∫ -->
  <svg id="basketSVG" width="120" height="90" viewBox="0 0 64 48">
    <ellipse cx="32" cy="40" rx="26" ry="6" fill="#c97e3d"/>
    <rect x="10" y="18" width="44" height="20" rx="7" fill="#f9cf93" stroke="#c97e3d" stroke-width="2"/>
    <rect x="12" y="22" width="40" height="12" rx="6" fill="#e0a96d"/>
    <ellipse cx="32" cy="38" rx="20" ry="5" fill="#c97e3d"/>
    <path d="M16 18 Q32 -2 48 18" fill="none" stroke="#ba8036" stroke-width="4"/>
  </svg>

  <audio id="correctSound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>
  <audio id="wrongSound" src="https://www.soundjay.com/button/sounds/beep-10.mp3"></audio>
  <audio id="backgroundMusic" src="https://cdn.pixabay.com/audio/2022/10/16/audio_12e1b36662.mp3" loop></audio>

  <script>
    const fruits = [
      { name: "—è–±–ª—É–∫–æ", img: "https://upload.wikimedia.org/wikipedia/commons/1/15/Red_Apple.jpg" },
      { name: "–±–∞–Ω–∞–Ω", img: "https://upload.wikimedia.org/wikipedia/commons/8/8a/Banana-Single.jpg" },
      { name: "–≥—Ä—É—à–∞", img: "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f350.png" },
      { name: "–∞–ø–µ–ª—å—Å–∏–Ω", img: "https://upload.wikimedia.org/wikipedia/commons/c/c4/Orange-Fruit-Pieces.jpg" },
      { name: "–ø–µ—Ä—Å–∏–∫", img: "https://upload.wikimedia.org/wikipedia/commons/9/9f/Nectarine_and_cross_section02_edit.jpg" },
      { name: "—Å–ª–∏–≤–∞", img: "https://upload.wikimedia.org/wikipedia/commons/f/f4/Plums.jpg" },
      { name: "–≤–∏—à–Ω—è", img: "https://upload.wikimedia.org/wikipedia/commons/b/bb/Cherry_Stella444.jpg" },
      { name: "–ø–æ–ª—É–Ω–∏—Ü—è", img: "https://upload.wikimedia.org/wikipedia/commons/2/29/PerfectStrawberry.jpg" },
      { name: "–≤–∏–Ω–æ–≥—Ä–∞–¥", img: "https://upload.wikimedia.org/wikipedia/commons/b/bb/Table_grapes_on_white.jpg" },
      { name: "–∫—ñ–≤—ñ", img: "https://upload.wikimedia.org/wikipedia/commons/d/d3/Kiwi_aka.jpg" },
      { name: "–∞–Ω–∞–Ω–∞—Å", img: "https://upload.wikimedia.org/wikipedia/commons/c/cb/Pineapple_and_cross_section.jpg" },
      { name: "–º–æ—Ä–∫–≤–∞", img: "https://upload.wikimedia.org/wikipedia/commons/4/40/Carrot.jpg" },
      { name: "–æ–≥—ñ—Ä–æ–∫", img: "https://upload.wikimedia.org/wikipedia/commons/5/57/Cucumber_on_white.jpg" },
      { name: "–ø–æ–º—ñ–¥–æ—Ä", img: "https://upload.wikimedia.org/wikipedia/commons/8/89/Tomato_je.jpg" },
      { name: "–∫–∞–ø—É—Å—Ç–∞", img: "https://upload.wikimedia.org/wikipedia/commons/5/5e/Cabbage_and_cross_section.jpg" },
      { name: "–±—É—Ä—è–∫", img: "https://upload.wikimedia.org/wikipedia/commons/5/5c/Beetrootj.jpg" },
      { name: "–∫–∞–±–∞—á–æ–∫", img: "https://upload.wikimedia.org/wikipedia/commons/6/63/Courgette.jpg" },
      { name: "–±–∞–∫–ª–∞–∂–∞–Ω", img: "https://upload.wikimedia.org/wikipedia/commons/f/fc/Eggplant.jpg" },
      { name: "–∫–∞—Ä—Ç–æ–ø–ª—è", img: "https://upload.wikimedia.org/wikipedia/commons/6/60/Patates.jpg" },
      { name: "—Ü–∏–±—É–ª—è", img: "https://upload.wikimedia.org/wikipedia/commons/f/fd/Onion_on_White.JPG" },
      { name: "–ø–µ—Ä–µ—Ü—å", img: "https://upload.wikimedia.org/wikipedia/commons/2/2f/Bell_pepper.jpg" }
    ];

    let currentIndex = 0;
    let basketCount = 0;
    let startedMusic = false;

    const fruitImage = document.getElementById("fruitImage");
    const resultDiv = document.getElementById("result");
    const basketDiv = document.getElementById("basket");
    const correctSound = document.getElementById("correctSound");
    const wrongSound = document.getElementById("wrongSound");
    const backgroundMusic = document.getElementById("backgroundMusic");
    const basketSVG = document.getElementById("basketSVG");

    function speak(text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = "uk-UA";
      window.speechSynthesis.speak(utter);
    }

    function showFruit() {
      const fruit = fruits[currentIndex];
      fruitImage.src = fruit.img;
      speak("–©–æ —Ü–µ –∑–∞ —Ñ—Ä—É–∫—Ç –∞–±–æ –æ–≤–æ—á?");
    }

    function animateBasket() {
      basketSVG.style.transform = "scale(1.2) rotate(-8deg)";
      setTimeout(() => {
        basketSVG.style.transform = "scale(1.0) rotate(0deg)";
      }, 350);
    }

    function startRecognition() {
      if (!startedMusic) {
        backgroundMusic.play();
        startedMusic = true;
      }
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = "uk-UA";
      recognition.interimResults = false;

      recognition.start();

      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript.trim().toLowerCase();
        const expected = fruits[currentIndex].name;

        if (transcript === expected) {
          resultDiv.innerHTML = `<span style='color:green;font-weight:bold;'>‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –¶–µ ${expected}</span>`;
          correctSound.play();
          basketCount++;
          basketDiv.innerHTML = `–£ –∫–æ—à–∏–∫—É: <span style='color:#006400;'>${basketCount}</span>`;
          animateBasket();
          currentIndex = (currentIndex + 1) % fruits.length;
          setTimeout(() => {
            resultDiv.innerText = "";
            showFruit();
          }, 1800);
        } else {
          resultDiv.innerHTML = `<span style='color:#d32f2f;font-weight:bold;'>‚ùå –ù–µ–≤—ñ—Ä–Ω–æ. –°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑!</span>`;
          wrongSound.play();
          speak("–°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑. –©–æ —Ü–µ?");
        }
      };

      recognition.onerror = function(event) {
        resultDiv.innerHTML = "<span style='color:#d32f2f;'>‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è. –°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑.</span>";
        speak("–ü–æ–º–∏–ª–∫–∞. –°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑.");
      };
    }

    // –ù–æ–≤–∏–π –∫–æ–¥: –∑–∞–ø—É—Å–∫ –º—É–∑–∏–∫–∏ —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è ‚Äú–°—Ç–∞—Ä—Ç‚Äù
    document.getElementById("startButton").onclick = function() {
      document.getElementById("startScreen").style.display = "none";
      backgroundMusic.play();
      startedMusic = true;
      showFruit();
    };

    // showFruit() –≤–∏–∫–ª–∏–∫–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è —Å—Ç–∞—Ä—Ç—É (–¥–∏–≤. –≤–∏—â–µ)
  </script>
</body>

</html>
